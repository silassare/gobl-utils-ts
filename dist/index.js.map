{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,kBAAkB,MAAM,sBAAsB,CAAC;AACtD,OAAO,UAAU,MAAM,cAAc,CAAC;AACtC,OAAO,EAAE,UAAU,EAAE,MAAM,QAAQ,CAAC;AACpC,cAAc,QAAQ,CAAC;AACvB,cAAc,sBAAsB,CAAC;AACrC,cAAc,cAAc,CAAC;AAE7B,MAAM,aAAa,GAAG,IAAI,CAAC,KAAK,EAC/B,aAAa,GAAG,UACf,IAAS,EACT,OAAuC;IAEvC,OAAO,aAAa,CAAC,IAAI,EAAE,UAAU,GAAG,EAAE,KAAK;QAC9C,IAAI,OAAO,OAAO,KAAK,UAAU,EAAE;YAClC,KAAK,GAAG,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;SAC5B;QAED,IAAI,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,iBAAiB,EAAE;YAChE,MAAM,CAAC,GAAG,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;YAClC,IAAI,CAAC,EAAE;gBACN,OAAO,CAAC,CAAC;aACT;SACD;QAED,OAAO,KAAK,CAAC;IACd,CAAC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEH,IAAI,CAAC,KAAK,GAAG,aAAa,CAAC;AAE3B,OAAO,EAAE,UAAU,EAAE,kBAAkB,EAAE,CAAC","sourcesContent":["import GoblSinglePKEntity from './GoblSinglePKEntity';\nimport GoblEntity from './GoblEntity';\nimport { toInstance } from './gobl';\nexport * from './gobl';\nexport * from './GoblSinglePKEntity';\nexport * from './GoblEntity';\n\nconst realJSONParse = JSON.parse,\n\tgoblJSONParse = function (\n\t\ttext: any,\n\t\treviver?: (key: any, value: any) => any,\n\t) {\n\t\treturn realJSONParse(text, function (key, value) {\n\t\t\tif (typeof reviver === 'function') {\n\t\t\t\tvalue = reviver(key, value);\n\t\t\t}\n\n\t\t\tif (Object.prototype.toString.call(value) === '[object Object]') {\n\t\t\t\tconst i = toInstance(value, true);\n\t\t\t\tif (i) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn value;\n\t\t});\n\t};\n\nJSON.parse = goblJSONParse;\n\nexport { GoblEntity, GoblSinglePKEntity };\n"]}